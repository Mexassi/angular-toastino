"use strict";var toastino=angular.module("mexassi.toastino",[]);toastino.factory("Toastino",function(s){var t=function(s,t){this.message="",this.classValue=s,this.position=t,this.className=null,this.autoDismiss=!1,this.delay=3700,this.observer=null};return t.prototype.registerListener=function(s){this.observer=s},t.prototype.broadcastChanges=function(){this.observer.update instanceof Function&&this.observer.update(this)},t.prototype.manualDismiss=function(){this.autoDismiss=!1},t.prototype.setClass=function(){this.className=void 0!==this.position&&null!==this.position?this.classValue+" "+this.position:this.classValue},t.prototype.setMessage=function(s){this.setClass(),this.message=s,this.close()},t.prototype.close=function(){if(this.autoDismiss){var t=this;s(function(){t.dismiss()},this.delay)}},t.prototype.clearMessage=function(){this.message=""},t.prototype.dismiss=function(){this.className+=" "+t.DISMISS;var o=this;s(function(){o.broadcastChanges(this)},350)},t.DISMISS="ts-dismiss",t}),toastino.factory("toastinoService",function(s){var t=function(){this.toastinoMessages=[]};return t.prototype.update=function(t){t instanceof s&&this.remove(t)},t.prototype.remove=function(s){for(var t=0;t<this.toastinoMessages.length;t++)if(s===this.toastinoMessages[t]){this.toastinoMessages.splice(t,1);break}},t.prototype.buildToastino=function(t){var o=new s(t.classValue,t.position);void 0!==t.autoDismiss&&(o.autoDismiss=!o.autoDismiss),o.registerListener(this),o.setMessage(t.message),this.toastinoMessages.unshift(o)},t.prototype.setToastino=function(s){if(void 0===s.classValue||void 0===s.position||void 0===s.message)throw new TypeError("The object must have properties: classValue, position, message");this.buildToastino(s)},new t}),toastino.directive("toastino",function(){return{restrict:"E",scope:{toastinos:"="},template:'<div class="ts-container"><div ng-repeat="toast in toastinos" class="{{toast.className}}"><span>{{toast.message}}</span><button class="ts-button" ng-click="toast.dismiss()">x</button></div></div>'}}),toastino.controller("toastinoCtrl",function(s,t){t.toastMessages=s.toastinoMessages;var o=["ts-default","ts-success","ts-danger","ts-warning"],i=["Hello I am Angular-toastino","You can use me to display toast messages","Just inject toastinoService in your controller","You can install me via bower install angular-toastino"];t.randomNumber=function(){var s=Math.floor(4*Math.random())+1;return s},t.createToastino=function(){var e={classValue:o[t.randomNumber()-1],position:"ts-top-right",message:i[t.randomNumber()-1],autoDismiss:!0};s.setToastino(e)}});